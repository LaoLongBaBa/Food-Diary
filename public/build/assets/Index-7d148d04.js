import{e as a,b as l,w as m,F as f,q as k,T as y,o as i,u as v,Z as D,a as o,c as b,f as h,h as g,i as w,t as d,l as r,G as c,g as C,n as M}from"./app-16d48abf.js";import{_ as E}from"./AppLayout-af87c5d5.js";import{a as u}from"./TextInput-c2dcea58.js";import{_ as V}from"./PrimaryButton-b1803d55.js";import S from"./Add-a44fbad8.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ActionMessage-871bcec1.js";import"./FormSection-22520b65.js";import"./SectionTitle-6f7c2679.js";import"./InputLabel-30aba13e.js";const R={class:"page"},$={class:"page-box"},N=["onClick"],T={class:"content"},B=o("h2",{class:"content-title"},"Breakfast",-1),F={key:0,class:"content-text"},U={key:1,class:"form-item"},q=o("h2",{class:"content-title"},"Lunch",-1),A={key:2,class:"content-text"},j={key:3,class:"form-item"},L=o("h2",{class:"content-title"},"Dinner",-1),O={key:4,class:"content-text"},P={key:5,class:"form-item"},z={key:6,class:"btn-box"},G={key:7,class:"btn-box"},I=k('<div class="home-footer"><span>Copyright Â© 2023 Food Diary </span><a href="">Accessibility</a><a href="">Terms &amp; conditions</a><a href="">Privacy policy</a><a href="">Cookie policy</a></div>',1),Z={data(){return{pageTitle:"",showDialog:!1,newContent:"",editMode:!1,form:y({_method:"PUT",date:"",breakfast:"",lunch:"",dinner:""})}},methods:{showModal(){this.showDialog=!0},showEditMode(){this.editMode=!0},close(){this.showDialog=!1},submitContent(){this.newContent&&(this.content[this.selectedDate].dinner=this.newContent,this.newContent="",this.showDialog=!1)},deleteRecipe(e){confirm("Are you sure you want to delete this recipe?")&&this.form.delete(route("recipes.destroy",e),{preserveScroll:!0,onSuccess:()=>{alert("Recipe deleted successfully!")},onError:()=>console.log("error"),onFinish:()=>this.form.reset()})},cancelEdit(){this.editMode=!1},saveContent(e){this.form.breakfast=breakfast.value,this.form.lunch=lunch.value,this.form.dinner=dinner.value,this.form.date=date.value,this.form.put(route("recipes.update",e),{onSuccess:t=>{alert("Recipe updated successfully!")},onFinish:()=>{this.editMode=!1,this.form.reset()}})}}},te=Object.assign(Z,{__name:"Index",props:{content:Object,dates:Array,selectedDate:String},setup(e){return(t,n)=>(i(),a(f,null,[l(E,{title:"Recipes"},{default:m(()=>[l(v(D),{title:"Recipes"}),o("div",R,[t.showDialog?(i(),b(S,{key:0,onClose:t.close},null,8,["onClose"])):h("",!0),o("div",$,[o("menu",null,[o("ul",null,[(i(!0),a(f,null,g(e.dates,s=>(i(),a("li",{class:M(e.selectedDate===s?"active":""),key:s,onClick:p=>e.selectedDate=s},d(s),11,N))),128))]),o("button",{class:"add",onClick:n[0]||(n[0]=(...s)=>t.showModal&&t.showModal(...s))},"New Recipe")]),o("form",{onSubmit:n[8]||(n[8]=w(s=>t.saveContent(e.content[e.selectedDate].id),["prevent"]))},[o("div",T,[B,t.editMode?(i(),a("div",U,[r(o("input",{id:"date",type:"hidden","onUpdate:modelValue":n[1]||(n[1]=s=>e.content[e.selectedDate].date=s)},null,512),[[c,e.content[e.selectedDate].date]]),r(o("input",{required:"",ref:"breakfast",id:"breakfast",type:"text","onUpdate:modelValue":n[2]||(n[2]=s=>e.content[e.selectedDate].breakfast=s)},null,512),[[c,e.content[e.selectedDate].breakfast]]),l(u,{message:t.form.errors.breakfast,class:"mt-2"},null,8,["message"])])):(i(),a("p",F,d(e.content[e.selectedDate].breakfast),1)),q,t.editMode?(i(),a("div",j,[r(o("input",{required:"",ref:"lunch",id:"lunch",type:"text","onUpdate:modelValue":n[3]||(n[3]=s=>e.content[e.selectedDate].lunch=s)},null,512),[[c,e.content[e.selectedDate].lunch]]),l(u,{message:t.form.errors.lunch,class:"mt-2"},null,8,["message"])])):(i(),a("p",A,d(e.content[e.selectedDate].lunch),1)),L,t.editMode?(i(),a("div",P,[r(o("input",{required:"",type:"text",id:"dinner","onUpdate:modelValue":n[4]||(n[4]=s=>e.content[e.selectedDate].dinner=s)},null,512),[[c,e.content[e.selectedDate].dinner]]),l(u,{message:t.form.errors.dinner,class:"mt-2"},null,8,["message"])])):(i(),a("p",O,d(e.content[e.selectedDate].dinner),1)),t.editMode?(i(),a("div",G,[l(V,{class:"save",disabled:t.form.processing},{default:m(()=>[C("Save")]),_:1},8,["disabled"]),o("button",{class:"cancel",onClick:n[7]||(n[7]=(...s)=>t.cancelEdit&&t.cancelEdit(...s))},"Cancel")])):(i(),a("div",z,[o("button",{class:"edit",onClick:n[5]||(n[5]=(...s)=>t.showEditMode&&t.showEditMode(...s))},"Edit"),t.editMode?h("",!0):(i(),a("button",{key:0,class:"delete",onClick:n[6]||(n[6]=s=>t.deleteRecipe(e.content[e.selectedDate].id))},"Delete "))]))])],32)])])]),_:1}),I],64))}});export{te as default};
